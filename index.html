<!DOCTYPE html>
<html>
<head>

<meta charset="UTF-8">
<meta http-equiv="Cache-control" content="no-cache">
<meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no" />

<link rel="stylesheet" href="bower_components/components-font-awesome/css/font-awesome.min.css">

<!-- Bootstrap -->
<!-- <link rel="stylesheet" href="bower_components/bootstrap/dist/css/bootstrap.css"> -->
<!-- <link rel="stylesheet" href="bower_components/bootstrap/dist/css/bootstrap-theme.css"> -->
<!-- <script type="text/javascript" src="bower_components/bootstrap/dist/js/bootstrap.js"></script> -->

<link rel="stylesheet" href="bower_components/angular-material/angular-material.css">
<link rel="stylesheet" href="bower_components/font-awesome/css/font-awesome.min.css">

<!-- Angular -->
<script src="bower_components/angular/angular.js"></script>
<script src="bower_components/angular-aria/angular-aria.js"></script>
<script src="bower_components/angular-animate/angular-animate.js"></script>
<script src="bower_components/angular-material/angular-material.js"></script>
<script src="bower_components/angular-sanitize/angular-sanitize.js"></script>
<script src="bower_components/angular-route/angular-route.js"></script>

<!-- jqCloud -->
<link rel="stylesheet" href="bower_components/jqcloud2/dist/jqcloud.min.css" type="text/css" />
<script type="text/javascript" src="bower_components/jquery/dist/jquery.min.js"></script>
<script type="text/javascript" src="bower_components/jqcloud2/dist/jqcloud.min.js"></script>
<script type="text/javascript" src="bower_components/angular-jqcloud/angular-jqcloud.js" ></script>

<!-- Charts -->
<script src="bower_components/chart.js/dist/Chart.js"></script>
<script src="bower_components/angular-chart.js/angular-chart.js"></script>

<!-- d3 -->
<script type="text/javascript" src="bower_components/d3/d3.min.js"></script>

<!-- Phylotree -->
<script type="text/javascript" src="bower_components/underscore/underscore-min.js"></script>
<link rel="stylesheet" href="bower_components/phylotree/phylotree.css">
<script type="text/javascript" src="bower_components/phylotree/phylotree.js"></script>

<!-- biocircos -->
<script type="text/javascript" src="lib/biocircos-1.1.2.js"></script>

<!-- TABLES -->
<link href="bower_components/angular-material-data-table/dist/md-data-table.min.css" rel="stylesheet" type="text/css" />
<script src="bower_components/angular-material-data-table/dist/md-data-table.js" type="text/javascript"></script>

<!-- Toasts -->
<script src="bower_components/AngularJS-Toaster/toaster.min.js"  type="text/javascript"></script>
<link href="bower_components/AngularJS-Toaster/toaster.min.css" rel="stylesheet" type="text/css" />

<!-- Venn -->
<script src="bower_components/venn.js/venn.js"></script>
<script src="bower_components/angular-venn/angular-venn.js"></script>

<style>
/* .md-table tbody tr { */
/* 	transition: all 0.1s ease-in; */
/* } */

.md-row {
	height: 48px;
}

/* .md-table tbody tr:hover { */
/* 	cursor: pointer; */
/* 	background-color: rgba(63, 81, 181, 0.2); */
/* } */

#toolbar {
	background-color: #efefef;
}

/* table { */
/* 	word-wrap: break-word; */
/* } */

td {
	text-align: center !important;
}

th {
	text-align: center !important;
	max-width: 100px;
	white-space: normal !important;
}

/* th { */
/* 	overflow-wrap: break-word; */
/* 	max-width: 300px; */
/* } */

.header-image {
	margin-top: auto;
	margin-bottom: auto;
	width: auto;
	height: auto;
}

.icon {
	height: 32px;
}

.fa {
	vertical-align: middle;
}

.header-logo-container {
	margin-left: auto;
}

.header-logo {
	height: 85px;
	width: auto;
}

.header-logo-container-menu {
	margin-left: auto;
	display: inline-block;
	vertical-align: middle;
}

.header-logo-menu {
	height: 45px;
	width: auto;
	padding: 0px 0px 0px 10px !important;
	vertical-align: middle;
}

.img-disabled {
	filter: grayscale(100%);
}

.disabled {
	color: grey
}

.auto-height {
	height: auto;
}

.padding-v-small {
	padding-top: 5px !important;
	padding-bottom: 5px !important;
}

.padding-v-no {
	padding-top: 0px !important;
	padding-bottom: 0px !important;
}

.full-card {
	margin-left: auto;
	margin-right: auto;
	max-height: 500px;
	overflow-x: scroll;
}

.full-card-header {
	overflow-x: auto;
}

.center {
	margin-left: auto;
	margin-right: auto;
}

.smaller-text {
	font-size: 0.7em;
}

.full-page {
	min-height: 100%;
}

.divider {
	margin-top: 2px;
	margin-bottom: 2px;
}

#footer {
	background-color: #D7D7D7;
	color: #6f6f6f;
	font-weight: bolder;
	text-align: center;
	padding: 1em;
	margin-top: 2em;
}

/* .footer-search { */
/*  	bottom: 0; */
/*  	position: absolute; */
/*  	width: 100%; */
/* } */

.text-alignment-justify {
	text-align: justify;
}
.text-alignment-right {
	text-align: right;
}
.text-alignment-center {
	text-align: center;
}

md-toolbar {
	padding: 15px;
	min-height: auto;
}

md-menu button {
	font-size: 16px;
}

.node {
	font-size: 14px;
}

#d3_layout_phylotree_context_menu {
	list-style-type: none;
	padding: 10px 30px;
	background-color: #fff;
	border: 1px solid rgba(0,0,0,0.15);
	border-radius: 4px;
	box-shadow: 0 6px 12px rgba(0,0,0,0.175);
}

#d3_layout_phylotree_context_menu .divider {
	height: 1px;
	margin: 9px 0;
	overflow: hidden;
	background-color: #e5e5e5;
}

#d3_layout_phylotree_context_menu li {
	list-style-type: none;
}

#d3_layout_phylotree_context_menu a:hover {
	cursor: pointer;
}

#d3_layout_phylotree_context_menu li.dropdown-header {
	font-size: 0.8em;
	color: #999;
	margin: 5px 0px 5px 0px;
}

.pedix {
	position: relative;
}
.pedix-image {
	position: absolute;
	max-width: 50px;
	max-height: 50px;
	top: 10px;
	margin: 5px 0px 0px 5px;
}

.button-icon {
	display: inline-block;
	vertical-align: middle;
	max-width: 50px;
	max-height: 50px;
	margin-left: 5px;
}

.right {
	margin-left: auto;
}

hr {
	border-style: inset;
	border-width: 1px;
	display: block;
	color: lightgray;
}




.md-dialog-backdrop:nth-of-type(odd) {
    z-index: 80;
}
.md-dialog-container:nth-of-type(even) {
    z-index: 81;
}

.md-dialog-backdrop:nth-of-type(even) {
    z-index: 82;
}
.md-dialog-container:nth-of-type(odd) {
    z-index: 83;
}






.table-scroll thead {
    display: table;
    width: 100%;
    table-layout: fixed;
}

.table-scroll tbody {
    max-height: 300px;
    overflow-y: auto;
    display: block;
    width: 100%;
    table-layout: fixed;
}

.table-scroll tr {
    display: table;
    table-layout: fixed;
    width: 100%;
}

.table-scroll td {
    height: 47px;
}

</style>

<script>

			var app = angular.module( 'engine',
					[
						'ngMaterial',
						'ngSanitize',
						'chart.js',
						'ngAnimate',
						'md.data.table',
						'toaster',
						'angular-jqcloud',
						'ngRoute',
						'angular-venn'
					] );
			
// 			app.run(['$templateCache', function ( $templateCache ) {
// 				    $templateCache.removeAll(); }]);
			
			app.config(function($mdThemingProvider, $httpProvider) {
				
				$httpProvider.defaults.headers.post['Content-Type'] = 'application/json;charset=utf-8';
				$httpProvider.defaults.xsrfCookieName = 'csrftoken';
				$httpProvider.defaults.xsrfHeaderName = 'X-CSRFToken';
				
					$mdThemingProvider.theme('big-data-theme')
					      .primaryPalette('amber')
					      .accentPalette('red')
					      .warnPalette('light-green');
				});
		</script>
		
		<script src="components/services/message.js" type="text/javascript"></script>
		<script src="components/services/global.js" type="text/javascript"></script>
		<script src="components/services/configFileService.js" type="text/javascript"></script>
		
		<script src="components/button/buttonDirective.js" type="text/javascript"></script>
		<script src="components/button/buttonController.js" type="text/javascript"></script>
		
		<script src="components/element/cloudController.js" type="text/javascript"></script>
		<script src="components/circos/circosController.js" type="text/javascript"></script>
		<script src="components/tree/treeController.js" type="text/javascript"></script>
		
		<script src="components/element/elementController.js" type="text/javascript"></script>
		<script src="components/element/elementDirective.js" type="text/javascript"></script>
		
		<script src="components/card/cardController.js" type="text/javascript"></script>
		<script src="components/card/cardDirective.js" type="text/javascript"></script>
	
		<script src="components/autocomplete/autocompleteController.js" type="text/javascript"></script>
		
		<script type="text/javascript">
			app.config(function ($routeProvider, $locationProvider) {
				
				console.log("ROUTING", $routeProvider, $locationProvider);
				$locationProvider.hashPrefix('!');
				
			    $routeProvider.
			    when("/:pageName?", {
			        templateUrl: "homepage.html",
			        controller: "pageController",
			        resolve: {
			            info: function(configFileService){
			                return configFileService.get_config_file();
			            },
			            pageTitle: function($route){
			            	console.log("ASKED FOR ", $route.current.params.pageName);
			            	
			            	if ($route.current.params.pageName == undefined) $route.current.params.pageName = "main";
			            	return $route.current.params.pageName;
			            }
			        }
			    }).
			    otherwise({
			    	templateUrl: "homepage.html",
			        controller: "pageController",
			        resolve: {
			            info: function(configFileService){
			                return configFileService.get_config_file();
			            },
			            pageTitle: function($route){
			            	console.log("ASKED FOR SPECIAL CASE");
			            	return undefined;
			            }
			        }
			    });
			});
			
			app.run([
				  '$rootScope', '$route',
				  function($rootScope, $route) {
				    // see what's going on when the route tries to change
				    $rootScope.$on('$routeChangeStart', function(event, next, current) {
				      // next is an object that is the route that we are starting to go to
				      // current is an object that is the route where we are currently
				      var currentPath = undefined;
				      if(current != undefined) currentPath = current.originalPath;
				      var nextPath = next.originalPath;

				      console.log('Starting to leave %s to go to %s', currentPath, nextPath, $route);
				    });
				  }
				]);
		</script>
		
		<script src="main.js" type="text/javascript"></script>
</head>

<body style="margin: 0px;" ng-app="engine" md-theme="big-data-theme">
	
	<toaster-container toaster-options="{'position-class': 'toast-bottom-right'}"></toaster-container>
	
	<div ng-view></div>
</body>

</html>
